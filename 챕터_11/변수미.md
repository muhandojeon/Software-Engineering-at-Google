가장 단순한 테스트는?

- 테스트하려는 단 하나의 행위 (메서드나 API 등)
- 특정한 입력
- 관측 가능한 출력 혹은 동작
- 통제된 조건 (하나의 격리된 프로세스)
  이런 테스트를 진행한다면 시스템이 기대한 대로 동작한것인지 판단하고,
  이러한 간단한 테스트가 수백, 수천개 보이면 제품이 전체적으로 **의도한 설계대로 잘 작동**하는지, **혹은 언제 그렇지 못한지**를 이야기할 수 있게 됩니다.

대부분의 소프트웨어는 기능과 지원 플랫폼이 폭증해 사람이 모든 행위를 동으로 검증할 수 있는 한계를 아득히 넘어섰습니다.
그래서 테스트에서 해법은 **자동화**뿐입니다.

가장 순수한 형태의 자동테스트는 아래와 같은 활동으로 이루어집니다.

1. 테스트 작성
2. 테스트 수행
3. 실패한 테스트에 대한 조치

#### 테스트 코드가 주는 혜택

- 디버깅 감소
- 자신있게 변경
- 더 나은 문서자료

### 테스트 크기

#### 작은 테스트

- 테스트가 단 하나의 프로세스에서 실행되어야한다.
- 독립된 테스트 프로세스에 연결해 수행하는 방식 허용 x, DB연결 x

> 단, 작은 테스트와 단위 테스트는 다르다.

#### 중간 크기 테스트

- 여러 프로세스와 스레드를 활용, 네트워크 호출과같은 블로킹 호출도 이용할 수 있다.
- 단 외부 시스템과의 통신은 x

#### 큰 테스트

- 원격 클러스터에 구동중인 시스템 테스트 가능
- 단 유연해지는 만큼 위험이 늘어남
- 빌드나 릴리스 때만 수행되도록 하여 개발 워크플로에 영향을주지 않도록 한다.

### 코드 커버리지

> 어느 테스트가 기능 코드의 어느 라인을실행하는지 측정하는 수단
> 코드 커버리지는 테스트 품질을 파악하는 표준 지표로 간주되기도 하는데, 크게 의미가 없을 수도 있다.

## 구글의 테스트 역사

구글도 처음부터 자동 테스트의 가치를 받아드리진 않았다.

자동 테스트를 전사적으로 뿌리게 내리게한 원동력

- 오리엔테이션 수업
- 테스트 인증 프로그램
  - 은근히 팀 간의 분위기를 부추기며 경쟁하게함
- 화장실에서도

## 자동 테스트의 한계

모든 종류의 테스트를 다 자동화 할 수는 없다. (특히 창의력이 필요한 분야)

탐색적 테스팅

- 검사대상을 고장내야할 처즐로 취급, 망가트릴려고 시도해본다.
- 이 테스팅으로 문제를 발견하는 즉시 자동 테스트를 추가해 재발을 막아야한다.

## 핵심

• 자동 테스트는 소프트웨어를 변경할 수 있게 해주는 토대다
• 테스트를 확장하려면 반드시 자동화해야 합니다.
• 테스트 커버리지를 건실하게 유지하려면 균형 잡힌 **테스트 스위트**가 필요합니다.
• “네가 좋아했다면 테스트를 준비해뒀어야지.” (ㅋㅋ)
• 조직의 테스트 문화를 바꾸는 데는 시간이 걸립니다. 급하게 생각하지 맙시다..
