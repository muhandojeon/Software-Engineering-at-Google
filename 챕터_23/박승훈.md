## 지속적 통합

- CI: Continuous Integration
- 작업 결과를 통합하는 SW 개발 방식
- 자동 빌드(테스트 포함)하여 통합 오류를 빠르게 찾아낸다.
- 기본 목적: **문제를 일으키는 변경을 가능한 한 조기에 자동으로 발견하는 것**
- 의의: 빠르게 진화하는 복잡한 생태계 전체를 지속적으로 조립하고 테스트 가능

## 빠른 피드백 루프

- CI는 빠른 피드백 루프를 이용하도록 유도하여 버그 비용을 최소화
- 카나리 배포(canary release): 프로덕션 전체 배포 전 일부만 먼저 배포
- 실험(experiment)과 기능 플래그(feature flag): 변경을 컴포넌트 단위로 격리 후, 프로덕션 환경에서 동적으로 켜고 끌 수 있도록 한다.

## CI의 과제

- 프리서브밋 최적화: 잠재적인 문제를 고려하여 어떤 테스트를 수행해야 하는지
- 범인 찾기와 실패 격리: 문제를 일으킨 코드와 시스템은 무엇인지
- 자원 제약: 거대한 테스트에 필요한 방대한 자원에 대한 제약 조건 확인

## CI를 감당하기

- CI 시스템 구축을 위한 여유가 없다...
- 조직에서 서비스를 운영하며 생기는 문제 처리에 지불하고 있는 비용을 생각해보기
- 비상 대응이 잦아지면 스트레스는 쌓이고 사기는 떨어진다.
- CI 시스템 구축에는 비용이 많이 든다. 제품 개발 단계의 뒤에서 발생하는 큰 비용을 사전에 저렴하게 처리하도록 해주는 비용일고 생각하라.
- CI는 더 안정적인 제품과 더 행복한 개발 문화를 만들어준다.

## 핵심 정리

- CI 시스템은 무슨 테스트를 언제 실행해야 할지를 결정
- 코드베이스가 오래되고 규모가 커질수록 CI 시스템이 더욱 필요
- 빠르고 더 안정적인 테스트는 프리서브밋 단계에서, 느리고 덜 결정적인 테스트는 포스트 서브밋 단계에서 실행하도록 최적화
