## 코드 리뷰 도구 원칙

구글의 코드리뷰 툴 `Critique`이 다음 가이드 원칙들을 부각하도록 설계된 데는 "코드 리뷰는 개발자 워크플로의 핵심이다"라는 구글의 개발 문화가 녹아있었다.

- **간결성: 리뷰 현황을 한눈에 알 수 있도록 시각적으로 표시**
- 신뢰 제공: 동료를 신뢰할 것. 변경들을 구글 직원 모두가 보고 리뷰할 수 있도록 공개함으로써 신뢰를 높이기
- 익숙한 소통 방식: 소통을 위한 데이터 모델이나 프로세스를 더 복잡하게 만들지 않고 댓글로 소통
- 워크플로 통합: 변경된 코드와 관련된 테스트 결과 확인 가능

코드 편집, 리뷰, 검색이 가능한 `Code Central`이라는 도구를 제작할까 고심하다가 만들지 않기로 했다. `Critique`는 의도적으로 코드 리뷰를 최우선으로 삼는 것으로 정했다.

> 올인원도 좋지만 목적을 정확히 달성하는 간결함을 유지한 정책 결정이 좋네요.

## 코드 리뷰 흐름

### 알림 기능

- 적절한 리뷰어를 추천해주기도 한다.
- 리뷰 요청을 보낼 때 메모를 덧붙일 수 있어서 애매하거나 궁금한 질문들을 리뷰어에게 먼저 물어볼 수 있음
- diff를 확인하여 작성자가 스스로 리뷰어 역할을 수행하면 여러가지 불필요한 오해가 줄어들게 된다.
- 의견이 필요한 내용이 있으면 코멘트로 요청한다.
- 단순 Sorting으로 인한 변경 사항 알림

> 메일을 좋아하는 사용자, 변경의 상태가 갱신될 때 알고 싶은 개발자 등 취향을 타는 개발자들의 variant를 겨냥해 여러 기능들을 제공하는 게 매력적이네요.

## 2단계: 리뷰 요청

- 자동으로 적절한 리뷰어 선정

  - 수정되는 코드의 소유자
  - 최근에 수정한 사람
  - 리뷰할 여건이 되는지

- 변경에 리뷰어를 할당하면 리뷰 요청 시작 및 변경과 관련한 프리서브밋 실행
  - 변경에 이메일 목록 자동 추가
  - 해당 프로젝트용 자동화 테스트 스위트 실행
  - 코드와 변경 설명에 프로젝트별 필수 항목 강제 적용(ex, lint)

## 마치며

- 코드 리뷰에 쓰는 시간은 코드를 생산하지 못하는 시간
- 따라서 **리뷰 프로세스를 최적화하면 그만큼 생산성이 개선**

- 변경 리뷰에 드는 시간을 최소로 줄이려면
  - 코드 리뷰 프로세스가 막힘없이 흘러가야 한다.
  - 주목해야 할 변경들을 사용자에게 간단명료하게 알려줘야 한다.
  - 분석기나 지속적 통합 등에서 포착한 잠재적인 문제를 미리 파악하여 리뷰어에게 노티해야 한다.

> 코드 리뷰에 대해 높게, 그리고 중요하게 평가하여 최적화하려는 구글의 노력이 돋보이는 장이었습니다.
